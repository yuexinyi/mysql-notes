# 库的操作

# 1.创建数据库

```mysql
create database [if not exists] db_name [create_specification [,create_specification]...]
```

create_specification:
[default] character set charset_name(字符集)
[default] collate collation_name(校验规则)

## 案例

- 创建一个数据库，名为db1;

  ```mysql
  create database db1;
  ```

- 创建一个使用utf8字符集的db2数据库；

  ```mysql
  create database db2 charset=utf8;
  ```

- 创建一个使用utf8字符集，并带校验规则的db3数据库；

  ```mysql
  create database db3 charset=utf8 collate utf8_general_ci;
  ```

# 2.字符集和校验规则

## 2.1查看系统默认的字符集以及校验规则

输入：

```mysql
show variables like 'character_set_database';
show variables like 'collation_database';
```

输出：

```
+------------------------+---------+
| Variable_name          | Value   |
+------------------------+---------+
| character_set_database | utf8mb4 |
+------------------------+---------+
```

```
+--------------------+--------------------+
| Variable_name      | Value              |
+--------------------+--------------------+
| collation_database | utf8mb4_0900_ai_ci |
+--------------------+--------------------+
```

## 2.2查看数据库支持的字符集

```mysql
show charset;
```

字符集主要是决定该数据库用什么语言，例如utf8可以使用中文；

## 2.3查看数据库支持的字符集校验规则

```mysql
show collation;
```

## 2.4校验规则对数据库的影响

- 不区分大小写

  - 创建一个数据库，校验规则使用utf8_general_ci；

    ```mysql
    create database test1 collate utf8_general_ci;
    use test1;
    create table person(name varchar(20));
    insert into person values('a');
    insert into person values('A');
    insert into person values('b');
    insert into person values('B');
    ```

  - 查询

    ```mysql
    mysql> select * from person where name = 'a';
    +------+
    | name |
    +------+
    | a    |
    | A    |
    +------+
    2 rows in set (0.01 sec)
    ```

  - 排序

    ```mysql
    mysql> select * from person order by name;
    +------+
    | name |
    +------+
    | a    |
    | A    |
    | b    |
    | B    |
    +------+
    4 rows in set (0.01 sec)
    ```

- 区分大小写

  - 创建一个数据库，校验规则使用utf8_bin

    ```mysql
    create database test2 collate utf8_bin;
    use test2;
    create table person(name varchar(20));
    insert into person values('a');
    insert into person values('A');
    insert into person values('b');
    insert into person values('B');
    ```

  - 查询

    ```mysql
    mysql>select * from person where name = 'a';
    +------+
    | name |
    +------+
    | a    |
    +------+
    1 row in set (0.00 sec)
    ```

  - 排序

    ```mysql
    mysql> select * from person order by name;
    +------+
    | name |
    +------+
    | A    |
    | B    |
    | a    |
    | b    |
    +------+
    4 rows in set (0.00 sec)
    ```